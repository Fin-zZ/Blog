# 组件使用方法

## Request 请求方法（基于axios封装）

#### 全局配置

在引入 Lsui时，可以配置默认参数。

在main.js中配置：

```
/* global Lsui */
Lsui.Request.setDefaults({
  baseURL: 'http://lsui.bcjgy.com/api', method: 'post', timeOut: 3000,
  tokenList: [{ key: 'token', value() { return 'tokenValue'; } }]
});
```

#### Options

| 参数            | 说明                                                         | 类型     | 可选值 | 默认值                                                       |
| --------------- | ------------------------------------------------------------ | -------- | ------ | ------------------------------------------------------------ |
| baseURL         | 请求基础路径                                                 | string   | —      | http://127.0.0.1:8080                                        |
| timeOut         | 超时时间（单位：ms）                                         | number   | —      | 5000                                                         |
| method          | 请求方式                                                     | string   | —      | post                                                         |
| contentType     | 请求内容类型                                                 | string   | —      | application/json                                             |
| withCredentials | 跨域是否携带 cookie                                          | boolean  | —      | true                                                         |
| tokenList       | 全局token键<br>(每次请求都会带上)                            | object[] | —      | [{ key: 'language', value() {   return localStorage.getItem('language'); } }] |
| onTimeOut       | 请求超时处理方法                                             | function | —      | function() {   Vue.prototype.$message({     message: '连接超时（后台不能连接，请联系系统管理员）',     type: 'error',     duration: 5 * 1000   }); } |
| onParamsInvalid | 参数异常处理方法<br>（当响应status为-1时调用）               | function | —      | function(response) {  <br> return Promise.reject(response);<br> } |
| onLogOut        | 未登录处理方法<br>（当响应status为-2时调用）                 | function | —      | function() {   Vue.prototype.$alert('系统未登录，请重新登录', '错误', {     confirmButtonText: '确定',     type: 'error'   });   return Promise.reject('error'); } |
| onRepeatSubmit  | 表单重复提交处理方法<br>（当响应status为-3时调用）           | function | —      | function() {   Vue.prototype.$alert('表单重复提交', '警告', {     confirmButtonText: '确定',     type: 'error'   });   return Promise.reject('error'); } |
| onInternalError | 系统内部错误处理<br>（当响应status为-4时调用）               | function | —      | function() {   Vue.prototype.$alert('系统内部错误', '警告', {     confirmButtonText: '确定',     type: 'error'   });   return Promise.reject('error'); } |
| onLogicalError  | 逻辑错误处理<br>（当响应status为-5时调用）                   | function | —      | function(response) {   return Promise.reject(response); }    |
| onRedirect      | 重定向处理<br>（当响应status为302时调用）                    | function | —      | function(res) {   location.href = res.data;   return Promise.reject('error'); } |
| onPostHandle    | 后置处理<br>若有新的状态需要全局处理，可以设置该方法         | function | —      | function(response){return response}                          |
| onPreHandle     | 前置处理<br>若现有的几种状态都不满足，可以设置该方法，之前的逻辑将被覆盖 | function | —      | function(){}                                                 |

#### 全局方法

>如果你引入了 Lsui，它会为 Vue.prototype 添加全局方法：$request。因此在 Vue instance 中可以采用本页面中的方式调用 Request。调用参数为：

* $request(url, data, method, options) 

#### Options

| 参数        | 说明                 | 类型   | 可选值 | 默认值                |
| ----------- | -------------------- | ------ | ------ | --------------------- |
| baseURL     | 请求基础路径         | string | —      | http://127.0.0.1:8080 |
| timeout     | 超时时间（单位：ms） | number | —      | 5000                  |
| headers     | 请求头               | object | —      | {}                    |
| contentType | 请求内容类型         | string | —      | application/json      |

#### 多实例使用

在main.js中配置：

```
const wmsRequest = Lsui.Request.build({ 
	baseURL: 'http://wms.bcjgy.com/api', timeOut: 6000, 
	tokenList: [{ key: 'token', value() { return 'tokenValue'; } }]
});
Vue.prototype.$wmsRequest = (...arg) => {
  return wmsRequest.request(...arg);
};
```



## LsAppHead 布局头部

* 由折叠侧边栏ICON，图标区域，标签栏，右侧个人信息(ElDropdown)组成

![avatar](http://raymes.oss-cn-shanghai.aliyuncs.com/AppOrder/J0D1XD28/app-head_20200420134604426.png ) 

## Attributes

| 参数               | 说明                           | 类型                                                         | 可选值                               | 默认值                                                       |
| ------------------ | ------------------------------ | ------------------------------------------------------------ | ------------------------------------ | ------------------------------------------------------------ |
| background         | logo区域背景样式               | string                                                       | —                                    | '#30333d url(' + require('@assets/img/logo.png') + ') center/100px  no-repeat' |
| visible-logo-close | 折叠侧边栏时，logo图片是否渲染 | boolean                                                      | —                                    | true                                                         |
| collapse           | 初始化侧边栏是否水平折叠收起   | boolean                                                      | —                                    | true                                                         |
| user-name          | 用户名称                       | string                                                       | —                                    | —                                                            |
| tag-list           | 初始化标签数组                 | object[][{name:'添加用户'，path:'/user/create'，fullPath:'/user/create'}] | —                                    | —                                                            |
| path               | 初始化路由地址                 | string                                                       | —                                    | —                                                            |
| left-layout        | 左侧布局                       | string                                                       | icon,logo                            | icon,logo                                                    |
| visible-menu       | 标签右键是否渲染菜单           | boolean                                                      | —                                    | —                                                            |
| menu-layout        | 标签右键菜单布局               | string                                                       | refresh, close, closeOther, closeAll | refresh, close, closeOther, closeAll                         |
| dropdown-data      | 用户下拉菜单数据               | object[]                                                     | —                                    | —                                                            |

* dropdown-data结构如下：

  ```
  [
          { label: '修改密码', icon: 'el-icon-s-tools', disabled: true },
          { label: '个人信息', command: 'user-info', divided: true },
          { label: '退出', command: 'logout', divided: true }
  ]
  
  label：标签内容；
  icon：图标类名；
  disabled：是否禁用；
  divided：显示分割线；
  command：点击触发回调；
  ```

## Slots



| Name         | 说明                   | 作用域   |
| ------------ | ---------------------- | -------- |
| dropdownItem | el-dropdown-item的内容 | dropdown |

## Events

| 事件名称           | 说明                  | 回调参数       |
| ------------------ | --------------------- | -------------- |
| switch-sidebar     | 切换侧边栏ICON会触发  | 侧边栏是否展开 |
| reload-current-tag | 右键刷新当前tag会触发 |                |

扩展

- 其他属性、方法、事件请参考[Element Dropdown](https://element.eleme.cn/#/zh-CN/component/dropdown)

## LsSidebar 侧边栏

* 由ElMenu和LsSidebarItem子组件递归组成。
* LsSidebarItem由ElSubMenu,ElMenuItem,LsSvgIcon 组成。
* 支持多级菜单（嵌套路由）。

![avatar](http://raymes.oss-cn-shanghai.aliyuncs.com/AppOrder/J0D1XD28/sidebar_20200420134636805.png )

#### Attributes

| 参数             | 说明                              | 类型                                                        | 可选值 | 默认值  |
| ---------------- | --------------------------------- | ----------------------------------------------------------- | ------ | ------- |
| routers          | 菜单数据                          | object[] (可参考examples/router/index.js中的asyncRouterMap) | —      | —       |
| collapse         | 是否水平折叠收起菜单              | boolean                                                     | —      | false   |
| text-color       | 菜单的文字颜色（仅支持 hex 格式） | string                                                      | —      | #fff    |
| background-color | 菜单的背景色（仅支持 hex 格式）   | string                                                      | —      | #30333d |

* routers 结构如下

  ```
  [
    {
      path: '/home',
      component: Layout,
      name: 'HomeManage',
      meta: {
        title: '首页',
        icon: 'dashboard'
      },
      children: [
        {
          path: '/home',
          name: 'Home',
          component: (resolve) => require(['@views/home'], resolve),
          meta: {
            perms: ['USER-SELECT'],
            title: '首页',
            icon: 'chart'
          }
        }
      ]
    },
    {
      path: '/use',
      component: Layout,
      alwaysShow: true,
      name: 'UserManage',
      meta: {
        title: '用户管理',
        icon: 'peoples'
      },
      children: [
        {
          path: '/user',
          name: 'User',
          component: (resolve) => require(['@views/user'], resolve),
          meta: {
            perms: ['USER-SELECT'],
            title: '用户管理',
            icon: 'user',
            noJump: true,
            cache: true
          },
          alwaysShow: true,
          children: [
            {
              path: '/user',
              name: 'user',
              component: (resolve) => require(['@views/user'], resolve),
              meta: {
                perms: ['USER-SELECT'],
                title: '用户管理',
                icon: 'chart'
              }
            }
          ]
        },
        {
          path: '/user/create',
          name: 'CreateUser',
          component: (resolve) => require(['@views/user/create'], resolve),
          hidden: true,
          meta: {
            perms: ['USER-SELECT'],
            title: '添加用户',
            icon: 'chart'
          }
        }
      ]
    },
    {
      path: '/role',
      component: Layout,
      name: 'RoleManage',
      meta: {
        title: '角色管理',
        icon: 'people'
      },
      children: [
        {
          path: '/role',
          name: 'Role',
          component: (resolve) => require(['@views/role'], resolve),
          meta: {
            perms: ['USER-SELECT'],
            title: '角色管理',
            icon: 'chart'
          }
        }
      ]
    },
    { path: '*', redirect: '/404', hidden: true }
  ]
  name:必须和组件的name一致
  hidden:如果设置为true，将不渲染到侧边栏上 如404，login等页面，或者如一些编辑页面/edit/1；
  alwaysShow：默认false，
  	当你一个路由下面的 children 声明的路由大于1个时，自动会变成嵌套的模式--如组件页面；
  	只有一个时，会将那个子路由当做根路由显示在侧边栏--如引导页面；
  	若你想不管路由下面的 children 声明的个数都显示你的根路由你可以设置 alwaysShow: true，这样它就会忽略之前定义的规则，一直显示根路由。
  path:路由路径，若以https:|http:|mailto:|tel:开头,视为外链，target: '_blank'
  redirect：路由重定向地址
  	
  meta: {
    perms:设置该路由进入的权限，当前用户的权限具有该数组中的某一个，菜单和路由才会被渲染，在				permission.js中利用路由拦截器控制着菜单权限；
    title:菜单和标签栏的标题；
    icon:'svg-name'图标渲染到侧边栏中。
    newTag：默认true，当为false时标签栏不会新开一个tag，
    cache：默认false，当为true时路由会被缓存，
  }
  ```

  

扩展

* 其他属性、方法、事件请参考[Element NavMenu](https://element.eleme.cn/#/zh-CN/component/menu)



## LsAppMain 内容

* 比较简单,使用参考layout目录下index.vue

  ![avatar](http://raymes.oss-cn-shanghai.aliyuncs.com/AppOrder/J0D1XD28/app-main_20200420134715486.png )

## LsTab 标签栏

* 由搜索框，筛选弹出框，按钮组，和下拉菜单组成

![avatar](http://raymes.oss-cn-shanghai.aliyuncs.com/AppOrder/J0D1XD28/tab_20200420134742130.png )



* 具体使用参考examples/views/user/index.js

#### Attributes

| 参数          | 说明                                                         | 类型     | 可选值          | 默认值  |
| ------------- | ------------------------------------------------------------ | -------- | --------------- | ------- |
| search-text   | 输入框绑定的值                                               | string   | —               | null    |
| btn-data      | 按钮数据                                                     | object[] | —               | []      |
| dropdown-data | 下拉菜单数据                                                 | object[] | —               | null    |
| screen-data   | 筛选数据<br>（若为null则不渲染筛选按钮）具体结构如下         | object[] | —               | []      |
| screen-height | 筛选弹出框高度                                               | string   | —               | —       |
| screen-mode   | 筛选框模式<br>confirm模式渲染确定和取消按钮，<br>       点击确定按钮才会生效，点击取消清除所有选中的筛选<br>directm模式不渲染确定和取消按钮，<br>       点击筛选项后直接生效, | string   | confirm，direct | confirm |
| screen-model  | 筛选框动态绑定的值                                           | object   | —               | —       |

* btn-data  结构如下：

  ```
  [
          { component: component },
          { click: 'import-user', html: '<span class="span-export">呵呵</span>' },
          { label: '导出', click: 'export-user', slot: '<span class="span-export el-icon-download">导出</span>' },
          { label: '添加用户', plain: true, type: 'primary', icon: 'el-icon-plus', click: 'add-user' }
  ]
  
  component：为一个组件实例，存在时，会将该组件挂载上去
  html：存在时，元素渲染成slot中的内容（v-html），否则渲染成<el-button/>；
  label：按钮内容；
  type：对应ElButton中的type；
  plain：对应ElButton中的plain；
  icon：元素的icon；
  class：元素的class；
  click：点击时触发的回调事件。
  visible：是否渲染，默认显示，boolean或者function，用于控制按钮权限
  ```

* dropdown-data

```
[
    { label: 'id',checked: false },
    { label: '姓名'},
    { label: '男/女'},
    { label: '地址'}
]

label：标签内容
checked：是否在dropdown中渲染，默认为true
```



* screen-data 结构如下：

  ```
  [
    {
      label: '单据类型', title: 'title', key: 'orderTypes', value: 'id', labelWidth: '80px', height: '25px', valueWidth: '80px', multiple: true, data: [
        { id: 1, title: '调拨单1231231' },
        { id: 2, title: '出库单' },
        { id: 3, title: '采购单' }
      ]
    },
    {
      label: '出入库类型', title: 'title', key: 'dispatchType', value: 'id', labelWidth: '80px', data: [
        { id: 1, title: '采购入库' },
        { id: 2, title: '简单入库' },
        { id: 4, title: '简单出库' },
        { id: 5, title: '库存调拨' },
        { id: 6, title: '库存调拨' },
        { id: 7, title: '库存调拨' }
      ]
    }
  ]
  
  label：标签内容；
  title：选项的内容；
  key：screen-model绑定的key；
  value：screen-model绑定的value；
  labelWidth：标签宽度；
  valueWidth：单个选项的宽度；
  height：单个筛选条件的高度，超出显示滚动条；
  multiple：是否多选，true为多选。
  ```

####  Events

| 事件名称    | 说明                                      | 回调参数     |
| ----------- | ----------------------------------------- | ------------ |
| text-change | 输入框内容change的回调                    | 输入框内容   |
| submit      | 筛选框条件改变的回调                      | result |
| cancel      | 筛选框点击取消按钮的回调，仅在confirm模式 | —            |

* result 结构如下：

```
{
	orderType:{
		label:'单据类型',
		data:[
			{ id: 1, title: '采购单1', visit:true }
		]
	},
	dispatchType:{
		label'出入库类型':,
		data:[
			{ id: 1, title: '采购入库1', visit:true }
		]
	}
}
```

## LsListView 列表组件

* 由ElTable表格和ElPagination分页组件组成

![avatar](http://raymes.oss-cn-shanghai.aliyuncs.com/AppOrder/J0D1XD28/list-view_20200420134811902.png )

* 具体使用参考examples/views/user/index.js

#### Attributes

| 参数                 | 说明                                                         | 类型     | 可选值                                           | 默认值                                  |
| -------------------- | ------------------------------------------------------------ | -------- | ------------------------------------------------ | --------------------------------------- |
| loading              | 加载状态                                                     | boolean  | —                                                | false                                   |
| th                   | 列数据                                                       | array    | —                                                | []                                      |
| tr                   | 行数据                                                       | array    | —                                                | []                                      |
| page                 | 分页数据<br>pageSize:分页大小<br/>pageNum:页码<br/>默认不显示分页插件 | object   | —                                                | null                                    |
| total                | 总条目数                                                     | number   | —                                                | 0                                       |
| layout               | 组件布局，子组件名用逗号分隔                                 | string   | sizes, prev, pager, next, jumper, ->, total,slot | total, sizes, prev, pager, next, jumper |
| page- sizes          | 每页显示个数选择器的选项设置                                 | number[] | —                                                | [20, 50, 100, 200]                      |
| operate-data         | 操作列数据                                                   | object[] | —                                                | []                                      |
| operate-width        | 操作列宽度                                                   | number   | —                                                | 60                                      |
| visible-sequence-col | 是否渲染序号列                                               | boolean  | —                                                | false                                   |
| sequence-width       | 序号列宽度                                                   | number   | —                                                | 60                                      |
| border               | 是否带有纵向边框                                             | boolean  | —                                                | true                                    |
| cellClass            | 是否设置单元格的 className                                   | boolean  | —                                                | false                                   |

* th  结构如下：

  ```
  [
  	{ label: 'id', key: 'id', type: 'input',minWidth: '150', checked: false},
  	{ label: '姓名', key: 'name', visible: true, eventName: 'click', event: 'change-gender' 		attr: {
                sortable: true,
                sortMethod() {
                }
              }  
  	},
  	{ label: '可用状态', key: 'gender',class:'status', visible: true, type: 'switch',eventName:'change', 	
  	event: 'change-gender' },
  	{ label: '地址', width: '150', key: 'address', visible: true }
  ]
  
  label:列标题
  key：对应tr中的渲染内容
  calss:对应tr中的calss
  width:对应列的宽度
  minWidth:对应列的最小宽度
  visible：是否在table中渲染，默认为true
  checked：是否在dropdown中渲染，默认为true
  type：类型，默认为text，可选值：input、switch
  eventName：事件名称，可选值：click、change、focus等等
  event：当触发eventName中的事件时，回调event事件
  cellClass：对应列是否设置单元格的className
  attr:其他属性可在这里设置，参考Element Table-column Attributes
  
  ```

* operate-data  结构如下：

  ```
  [
  	{ label: '编辑', click: 'edit', type: 'primary', plain: true, slot: '<button>编辑				</button>' },
  	{ label: '查看', click: 'edit', type: 'primary', plain: true,, visible: checkPermission(['USER-SELECT'])},
      { key: 'del', click: 'del', icon: 'el-icon-delete', class: 'del' }
  ]
  
  slot:当slot存在时，元素渲染成slot中的内容，否则渲染成<el-button/>；
  label：按钮的内容；
  type:对应ElButton中的type；
  plain:对应ElButton中的plain；
  icon：元素的icon；
  class：元素的class；
  key:按钮的唯一标识，可以在tr中控制是否渲染；
  click：点击时触发的回调事件。
  visible：是否渲染，默认显示，boolean或者function，用于控制按钮权限
  ```

  

* tr  结构如下：

  ```
  [
  	{ id: '310000200810300531', name: '朱桂英', gender: false, address: '广东省 深圳市 盐田			区', _operate_hide:true, _disabled:true,_id_disabled:true, _del_hide:true }
  ]
  
  其中
  _operate_hide：默认false，当为true时，该行数据操作列所有按钮不渲染；
  _del_hide:默认false，当为true时，该行数据操作列的key为del的元素不渲染（对应operate-data中的key）
  	同理，若想让该行key为edit的按钮不渲染，可以将该数据中的_edit_hide属性设为true。
  _disabled:默认false，当为true时，该行数据（除操作列）禁用；
  _id_disabled:默认false，当为true时，该行数据列的key为id的元素禁用（对应th中的key）
  _class:该行数据slot的calss
  _name_class:该行数据字段key为name单元格slot的calss
  ```

  

#### Events

| 事件名称    | 说明                                | 回调参数 |
| ----------- | ----------------------------------- | -------- |
| page-change | pageSize或 currentPage 改变时会触发 | page     |



#### 扩展

- 其他属性、方法、事件请参考[Element Table](https://element.eleme.cn/#/zh-CN/component/table)和[Element Pagination](https://element.eleme.cn/#/zh-CN/component/pagination)



## LsSvgIcon svg组件

* vue中使用svg的快捷方式
* 具体使用参考pageages/sidebar/src/sidebar-item.vue

#### Attributes

| 参数       | 说明                 | 类型   | 可选值 | 默认值 |
| ---------- | -------------------- | ------ | ------ | ------ |
| icon-class | 对应/src/svg文件名称 | string | —      | —      |
| class-name | class属性            | string | —      | —      |

## RegExp 正则

* 目前提供的有：

```
  /* 非空*/
  notBlank: /\s*\S+?/,
  /* 正整数*/
  positiveInt: /^[+]{0,1}(\d+)$/,
  /* uri*/
  url: /^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,
  /* 邮箱*/
  email: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
  /* 手机号码*/
  phone: /^1[3456789]\d{9}$/,
  /* 身份证号码*/
  idCard: /^\d{15}|\d{18}$/,
  /* 中文*/
  chinese: /^[\u0391-\uFFE5]+$/,
  /* 英文字母*/
  english: /^[a-zA-Z]+$/,
  /* 整数*/
  integer: /^[-+]?\d*$/,
  /* 双精度*/
  double: /^[-\+]?\d+(\.\d+)?$/,
  /* 日期YYYY-MM-DD*/
  date: /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,
  /* 日期YYYY-MM-DD hh:mm:ss*/
  dateTime: /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,
  /* 密码强度正则，最少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符 */
  password: /^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,
  /* IPv4地址*/
  ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,
  /* 十六进制颜色*/
  rgbHex: /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,
  /* 车牌号*/
  carId: /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/
```



## 国际化

#### Lsui 组件内部默认使用中文，若希望使用其他语言，则需要进行多语言设置。以英文为例，

* 在index.html引入

```
<script src="https://cdnjs.fscut.com/laser-ui/0.1.3/umd/locale/en.js"></script>
```

* 在 main.js 中 

```
Lsui.locale(Lsui.lang.en);
```

#### 兼容vue-i18n@5.x

* 在index.html引入

```
<script src="https://cdnjs.fscut.com/vue-i18n/5.0.3/vue-i18n.min.js"></script>
```

* 在 main.js 中 

```
Vue.locale('en', Lsui.lang.en)
```

#### 默认不兼容vue-i18n@6.x+

如果你想兼容，需要手动处理，请参考examples/lang/index.js和examples/main.js



## uWeb埋点

#### 使用友盟，参考[vue-uweb](https://github.com/raychenfj/vue-uweb)

* 在 main.js 中 

```
Vue.use(Lsui.uWeb, 'YOUR_SITEID_HERE');
```

* 通过传递 options 参数进行更多设置 

```
Vue.use(uWeb,options)
```

**options** 

| 参数         | 是否必输 | 默认                                                     | 说明                                                         |
| ------------ | -------- | -------------------------------------------------------- | ------------------------------------------------------------ |
| siteId       | 是       |                                                          | 绑定要接受API请求的统计代码siteid                            |
| debug        | 否       | false                                                    | 调试模式下将在控制台中输出调用 window._czc.push 时传递的参数 |
| autoPageview | 否       | true                                                     | 是否开启自动统计PV                                           |
| src          | 否       | <http://s11.cnzz.com/z_stat.php?id=SITEID&web_id=SITEID> | 指定统计脚本标签的 src 属性                                  |

* 提供以下几个方法,分别对应[友盟](https://open.cnzz.com/a/api/setaccount/)

```
this.$uWeb.trackPageView(content_url,referer_url);
this.$uWeb.trackEvent(category, action, label, value, nodeId);
this.$uWeb.setCustomVar(name,value,time]);
this.$uWeb.setAccount(siteid);
this.$uWeb.setAutoPageView(autopageview);
this.$uWeb.deleteCustomVar(name);
```

#### 指令

#### 提供 track-event，track-page 和 auto-page 三个指令 

* #### track-event

```
<button v-track-event.click="'category, action''"></button> // 统计click事件
<button v-track-event="'category, action'"></button> // 统计click事件简写
<input v-track-event.keypress="'category, action'"> // 统计keypress事件
<button v-track-event="'category, action, label, value, nodeid'"><button> // 以字符串传递参数
<button v-track-event="{category:'event', action:'click'}"></button> // 以对象字面量传递参数
```

* #### track-page

```
<div v-show="show" v-track-page="'/bar'">bar</div> //  跟踪 v-show 绑定元素的虚拟pv
<div v-if="show" v-track-page="'/foo'">foo</div> // 跟踪 v-if 绑定元素的虚拟pv
<div v-track-page="'/tar, https://github.com/raychenfj'"></div> // 以字符串指定受访页面和来源
<div v-track-page="{content_url:'/zoo', referer_url:'https://github.com/raychenfj'}"></div> // 以对象字面量指定受访页面和来源
```

* #### auto-page

```
<div v-auto-page="true"></div> // 启用 auto-page
<div v-auto-page="false"></div> // 停止 auto-page
```